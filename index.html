<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excellence | Belinda Amanya</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700;900&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');

        :root {
            --primary-pink: #ff85a2;
            --soft-purple: #b392f0;
            --sky-blue: #87ceeb;
            --mint-green: #98ff98;
            --sunny-yellow: #fff44f;
            --rainbow-gradient: linear-gradient(45deg, #ff85a2, #b392f0, #87ceeb, #98ff98, #fff44f);
            --glass-white: rgba(255, 255, 255, 0.25);
            --text-main: #ffffff;
            --accent-pink: #ff3366;
            --gold: #f9e29b; /* Re-added for the buttons */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #050505; /* Fallback */
            color: var(--text-main);
            font-family: 'Montserrat', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Animated Rainbow Background behind the glass */
        .bg-wrapper {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--rainbow-gradient);
            background-size: 300% 300%;
            animation: rainbowMove 10s ease infinite;
            z-index: 0;
        }

        @keyframes rainbowMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #fireworks-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .stage {
            position: relative;
            z-index: 10;
            width: 90%;
            max-width: 500px;
            padding: 40px;
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .slider-container {
            position: relative;
            width: 220px;
            height: 220px;
            margin: 0 auto 30px;
            perspective: 1000px;
        }

        .slide {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            border-radius: 30px;
            border: 3px solid white;
            overflow: hidden;
        }

        .slide.active { opacity: 1; }
        .slide img { width: 100%; height: 100%; object-fit: cover; }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .countdown-text {
            font-size: 5rem;
            font-weight: 900;
            margin: 10px 0;
            color: white;
            text-shadow: 0 0 20px var(--accent-pink);
        }

        input {
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            padding: 15px;
            border-radius: 15px;
            color: white;
            width: 100%;
            margin-bottom: 20px;
            text-align: center;
            outline: none;
        }

        input::placeholder { color: rgba(255,255,255,0.7); }

        .btn-action {
            background: white;
            color: var(--accent-pink);
            border: none;
            padding: 18px 30px;
            border-radius: 50px;
            font-weight: 900;
            text-transform: uppercase;
            cursor: pointer;
            width: 100%;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .btn-action:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(0,0,0,0.2); }

        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="bg-wrapper"></div>
    <canvas id="fireworks-canvas"></canvas>

    <div class="stage" id="main-stage">
        <div id="auth-section">
            <h1>Special Access</h1>
            <p style="margin-bottom:20px; font-weight: 300;">Enter the passcode for Belinda Amanya</p>
            <input type="password" id="pass-input" placeholder="PASSCODE">
            <button class="btn-action" onclick="validate()">Unlock Magic</button>
        </div>

        <div id="celebration-section" class="hidden">
            <h1 id="celebration-title">Systems Ready</h1>
            
            <div id="slider-wrapper" class="slider-container">
                <div class="slide active"><img src="WhatsApp Image 2026-01-20 at 12.24.38 AM.jpeg" alt="Belinda 1"></div>
                <div class="slide"><img src="WhatsApp Image 2026-01-10 at 4.39.00 PM.jpeg" alt="Belinda 2"></div>
            </div>

            <div id="main-timer" class="countdown-text"></div>
            
            <button class="btn-action" id="start-btn" onclick="startBirthdayEngine()">Launch Celebration</button>
            <div id="engine-status" style="margin-top:20px; font-size:0.7rem; letter-spacing:2px; font-weight: 700;">INITIALIZING...</div>
        </div>
    </div>

    <audio id="audio-track" src="happy bd.mp3"></audio>

    <script>
        const audio = document.getElementById('audio-track');
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let particles = [];

        function playBeep(frequency, duration) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.frequency.value = frequency;
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + duration);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        function validate() {
            const pw = document.getElementById('pass-input').value;
            if (pw.toLowerCase() === 'amanya') {
                document.getElementById('auth-section').classList.add('hidden');
                document.getElementById('celebration-section').classList.remove('hidden');
                initSlider(); // Start image rotation logic
            } else {
                alert("Incorrect Passcode");
            }
        }

        function initSlider() {
            const slides = document.querySelectorAll('.slide');
            let current = 0;
            setInterval(() => {
                slides[current].classList.remove('active');
                current = (current + 1) % slides.length;
                slides[current].classList.add('active');
            }, 3000);
        }

        async function startBirthdayEngine() {
            if (audioCtx.state === 'suspended') await audioCtx.resume();
            
            const btn = document.getElementById('start-btn');
            const timer = document.getElementById('main-timer');
            const title = document.getElementById('celebration-title');
            const status = document.getElementById('engine-status');

            btn.classList.add('hidden');
            title.innerText = "Synchronizing";

            let count = 5;
            const countdownInterval = setInterval(() => {
                if (count > 0) {
                    timer.innerText = count;
                    playBeep(880, 0.4);
                } else {
                    playBeep(1760, 0.8);
                    timer.innerText = "GO";
                    title.innerText = "HAPPY BIRTHDAY BELINDA!";
                    status.innerText = "NOW PLAYING: CONGRATULATIONS";
                    clearInterval(countdownInterval);
                    triggerCelebration();
                }
                count--;
            }, 1000);
        }

        function triggerCelebration() {
            audio.play().catch(e => console.log("Audio play failed", e));
            startFireworks();
            audio.onended = () => initiateFinalShutdown();
        }

        function initiateFinalShutdown() {
            let timeLeft = 10;
            const timer = document.getElementById('main-timer');
            const stage = document.getElementById('main-stage');

            const shutdownTimer = setInterval(() => {
                timer.style.fontSize = "3rem";
                timer.innerText = `END: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(shutdownTimer);
                    stage.style.opacity = "0";
                    setTimeout(() => {
                        document.body.innerHTML = `
                            <div style='padding: 40px; text-align: center; max-width: 600px; line-height: 1.8; z-index: 10;'>
                                <h1>To Belinda Amanya</h1>
                                <p>May this special day bring you endless joy, love, and laughter. 
                                You are an incredible person who lights up every room you enter. 
                                Keep shining bright and inspiring everyone around you!
                                Happy Happy Birthday</p>
                            </div>
                            <div class="bg-wrapper"></div>`;
                    }, 1500);
                }
                timeLeft--;
            }, 1000);
        }

        class Particle {
            constructor(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                this.velocity = { x: (Math.random() - 0.5) * 12, y: (Math.random() - 0.5) * 12 };
                this.alpha = 1;
                this.friction = 0.96;
                this.gravity = 0.15;
            }
            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
            update() {
                this.velocity.x *= this.friction;
                this.velocity.y *= this.friction;
                this.velocity.y += this.gravity;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= 0.01;
            }
        }

        function startFireworks() {
            function animate() {
                ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                if (Math.random() < 0.05) {
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * (canvas.height / 2);
                    const color = `hsl(${Math.random() * 360}, 80%, 60%)`;
                    for (let i = 0; i < 60; i++) particles.push(new Particle(x, y, color));
                }
                particles.forEach((p, i) => {
                    if (p.alpha > 0) { p.update(); p.draw(); }
                    else { particles.splice(i, 1); }
                });
                requestAnimationFrame(animate);
            }
            animate();
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    </script>
</body>

</html>
